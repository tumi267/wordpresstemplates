(()=>{var e={590:()=>{let e=window.pageYOffset;const t=document.querySelector(".nav_contain");let o=!1;t&&window.addEventListener("scroll",(function(){o||(requestAnimationFrame((()=>{let n=window.pageYOffset;e>n?t.style.setProperty("--nav-position","0"):t.style.setProperty("--nav-position","-112px"),e=n,o=!1})),o=!0)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("category-data"),t=document.getElementById("category-select");if(e&&t){const o=JSON.parse(e.getAttribute("data-categories")||"[]");o.forEach((e=>{const o=document.createElement("option");o.value=e.id,o.textContent=e.name,t.appendChild(o)})),t.addEventListener("change",(function(e){const t=e.target.value;if(!t)return;const n=o.find((e=>e.id==t));n&&n.link&&(window.location.href=n.link)}))}}));const n=document.getElementById("burger");n&&n.addEventListener("click",(function(){const e=document.querySelector(".nav_contain_content_small");e&&(e.style.display="flex"===e.style.display?"none":"flex")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("search-input"),t=document.getElementById("search_results"),o=document.getElementById("search-icon");o&&o.addEventListener("click",(()=>{"0"===getComputedStyle(document.documentElement).getPropertyValue("--nav-search-input-opacity").trim()?(document.documentElement.style.setProperty("--nav-search-input","block"),document.documentElement.style.setProperty("--nav-search-input-width","300px"),document.documentElement.style.setProperty("--nav-search-input-opacity","1"),document.documentElement.style.setProperty("--search-input-left","0"),document.documentElement.style.setProperty("--search-display","block")):(document.documentElement.style.setProperty("--nav-search-input-opacity","0"),document.documentElement.style.setProperty("--nav-search-input-width","0px"),document.documentElement.style.setProperty("--nav-search-input","none"),document.documentElement.style.setProperty("--search-display","none"))})),e&&t&&e.addEventListener("input",(async function(){const o=e.value.trim();if(0!==o.length)try{const e=await fetch(`${searchData.rest_url}?search=${o}`,{method:"GET",headers:{"X-WP-Nonce":searchData.nonce}}),n=await e.json();let r="";n.forEach((e=>{console.log(e),r+=`<div><a href="${e.link}">${e.title.rendered}</a></div>`})),t.innerHTML=r}catch(e){console.error("Error fetching search results:",e)}else t.innerHTML=""}))}))}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.components,a=window.wp.data,s=window.wp.element,c=window.wp.apiFetch;var l=o.n(c);window.React;const i=window.ReactJSXRuntime,d=JSON.parse('{"UU":"create-block/dynamic-navigation"}');o(590),(0,e.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:o}){let{selectedPages:c}=e;const[d,u]=(0,s.useState)(null);(0,s.useEffect)((()=>{l()({path:"/wp/v2/settings"}).then((t=>{if(t.custom_site_attributes){const n={fontFamily:t.custom_site_attributes.fontFamily,textColor:t.custom_site_attributes.textColor,backgroundColor:t.custom_site_attributes.backgroundColor,backgroundOpacity:t.custom_site_attributes.backgroundOpacity,logoUrl:t.custom_site_attributes.logoUrl};(e.fontFamily!==n.fontFamily||e.textColor!==n.textColor||e.backgroundColor!==n.backgroundColor||e.backgroundOpacity!==n.backgroundOpacity||e.logoUrl!==n.logoUrl)&&o(n)}})).catch((e=>{console.error("Error fetching custom_nav_attributes:",e)}))}),[]),(0,s.useEffect)((()=>{(async()=>{try{const t=await l()({path:"/wp/v2/settings"}),o=t.custom_site_attributes,n={fontFamily:e.fontFamily,textColor:e.textColor,backgroundColor:e.backgroundColor,backgroundOpacity:e.backgroundOpacity,logoUrl:e.logoUrl},r={...t,custom_site_attributes:{...o,...n}};delete r.site_logo;const a=await l()({path:"/wp/v2/settings",method:"POST",data:r});console.log("Nav data saved successfully!",a)}catch(e){console.error("Error saving nav data:",e)}})()}),[e.fontFamily,e.textColor,e.backgroundColor,e.backgroundOpacity,e.logoUrl]);const m=(0,a.useSelect)((e=>e("core").getEntityRecords("postType","page",{per_page:-1})||[]),[]),{fontFamily:y,textColor:g,backgroundColor:p,backgroundOpacity:h,logoUrl:x,categorydisplay:f}=e,[M,N]=(0,s.useState)([]),[j,v]=(0,s.useState)([]),[w,E]=(0,s.useState)({}),[C,D]=(0,s.useState)(!1),I=(0,s.useRef)(0),[b,k]=(0,s.useState)(!1),[O,T]=(0,s.useState)([]),[_,A]=(0,s.useState)(!1),S=p?`rgba(${parseInt(p.slice(1,3),16)}, \n                ${parseInt(p.slice(3,5),16)}, \n                ${parseInt(p.slice(5,7),16)}, \n                ${h})`:"transparent",L=((0,n.useBlockProps)({className:"nav_contain",style:{color:g,backgroundColor:S}}),["HOME","MAGAZINE","RESOURCES","FOUNDATION","ARCHIVE"]);(0,s.useEffect)((()=>{if(m.length>0&&JSON.stringify(m)!==JSON.stringify(M)){const e=m.map((e=>({id:e.id,title:e.title.rendered,url:e.link}))),t=[];L.forEach((o=>{const n=e.find((e=>e.title.toUpperCase()===o));n&&t.push({...n,title:n.title.toUpperCase()})})),e.forEach((e=>{L.includes(e.title.toUpperCase())||"CONTACT"===e.title.toUpperCase()||t.push({...e,title:e.title.toUpperCase()})}));const n=c.length!=t.length?t:c;console.log("Pages to Set:",t),N(t),o({pages:t,selectedPages:n})}}),[m,c]),(0,s.useEffect)((()=>{(async()=>{try{const e=await l()({path:"/wp/v2/categories"});T(e)}catch(e){console.error("Error fetching categories:",e)}})()}),[]);const P=()=>{const e=document.querySelector("iframe")?.contentWindow,t=e?.document;if(e&&t){const o=e.pageYOffset||t.documentElement.scrollTop;D(o<=I.current);const n=t.querySelector(".nav_contain");n?o>I.current?n.style.setProperty("--nav-position","-112px"):n.style.setProperty("--nav-position","0"):console.error("Could not find .nav_contain element in iframe"),I.current=o<=0?0:o}else console.error("Could not find iframe window or document")};(0,s.useEffect)((()=>{const e=document.querySelector("iframe")?.contentWindow;if(e)return e.addEventListener("scroll",P),()=>{e.removeEventListener("scroll",P)};console.error("Could not find iframe window")}),[]);const U=function(){let e;return function(...t){clearTimeout(e),e=setTimeout((()=>{(async e=>{if(""!==e){let t=(await l()({path:`/wp-v2/posts?search=${e}`})).filter((t=>t.title.rendered.toLowerCase().startsWith(e.toLowerCase())));v(t)}else v([])})(...t)}),300)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.InspectorControls,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:(0,i.jsx)("strong",{children:"Upload Logo:"})}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{const t=e.target.result;o({logoUrl:t})},e.readAsDataURL(t)}}})]}),(0,i.jsxs)(r.PanelBody,{title:(0,t.__)("Select Pages","text-domain"),initialOpen:!0,children:[(0,i.jsx)("label",{children:(0,i.jsx)("strong",{children:"Text Color:"})}),(0,i.jsx)(r.ColorPalette,{colors:[{name:"Black",color:"#000000"},{name:"White",color:"#ffffff"},{name:"default",color:"#909090"}],value:g,onChange:e=>o({textColor:e})}),(0,i.jsx)("label",{children:(0,i.jsx)("strong",{children:"Background Color:"})}),(0,i.jsx)(r.ColorPalette,{colors:[{name:"Black",color:"#000000"},{name:"white",color:"#FFFFFF"}],value:p,onChange:e=>o({backgroundColor:e})}),(0,i.jsx)("label",{children:(0,i.jsx)("strong",{children:"Background Opacity:"})}),(0,i.jsx)(r.RangeControl,{value:h||0,onChange:e=>o({backgroundOpacity:e}),min:0,max:1,step:.1}),(0,i.jsx)(r.SelectControl,{label:(0,t.__)("Select Typography"),value:y||"Inter, sans-serif",options:[{label:(0,t.__)("Inter"),value:"Inter, sans-serif"},{label:(0,t.__)("Roboto"),value:"Roboto, sans-serif"}],onChange:e=>{o({fontFamily:e})}})]})]}),(0,i.jsxs)("div",{className:"nav_contain",style:{fontFamily:e.fontFamily,color:e.textColor,backgroundColor:S},children:[(0,i.jsxs)("div",{className:"nav_contain_content",children:[x&&(0,i.jsx)("a",{href:`${d}`,children:(0,i.jsx)("img",{src:x,alt:"Logo",className:"nav_logo",style:{maxWidth:"100px",height:"auto"}})}),e.selectedPages.map((t=>(0,i.jsx)("span",{children:(0,i.jsx)("a",{className:"nav_a",href:t.url,style:{color:e.textColor},children:(0,i.jsx)("h2",{className:"nav_a_text",style:{color:e.textColor},children:t.customName||t.title})})},t.id))),(0,i.jsxs)("span",{className:"search",children:[(0,i.jsx)("img",{className:"search_icon",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMSAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuNTU1NzQ0IDE4LjE1MjFMNS4xODIxMiAxMy41MjU4QzQuMzc2NjIgMTIuMjIxNSAzLjg4OTYzIDEwLjcwMDEgMy44ODk2MyA5LjA1NDkxQzMuODg5NjMgNC4zMjk5NyA3LjcxOTcyIDAuNSAxMi40NDQ4IDAuNUMxNy4xNjk5IDAuNSAyMSA0LjMyOTk3IDIxIDkuMDU0OTFDMjEgMTMuNzc5OSAxNy4xNjk5IDE3LjYwOTggMTIuNDQ0OCAxNy42MDk4QzEwLjc5OTYgMTcuNjA5OCA5LjI3ODA4IDE3LjEyMjkgNy45NzUwNiAxNi4zMTg3TDMuMzQ3MzYgMjAuOTQ0OUMyLjk3NDk0IDIxLjMwNSAyLjQ3NTkxIDIxLjUwNDMgMS45NTc4OCAyMS40OTk5QzEuNDM5ODQgMjEuNDk1NSAwLjk0NDI4NCAyMS4yODc3IDAuNTc4MDUxIDIwLjkyMTNDMC4yMTE4MTcgMjAuNTU0OSAwLjAwNDIzNjIyIDIwLjA1OTMgNi40ODQ5OWUtMDUgMTkuNTQxM0MtMC4wMDQxMDg0MyAxOS4wMjMyIDAuMTk1NDU5IDE4LjUyNDMgMC41NTU3NDQgMTguMTUyMVpNMTIuNDQ0OCAxNC45Nzc1QzE1LjcxNTUgMTQuOTc3NSAxOC4zNjc2IDEyLjMyNTUgMTguMzY3NiA5LjA1NDkxQzE4LjM2NzYgNS43ODQzIDE1LjcxNTUgMy4xMzIyOCAxMi40NDQ4IDMuMTMyMjhDOS4xNzQxIDMuMTMyMjggNi41MjIgNS43ODQzIDYuNTIyIDkuMDU0OTFDNi41MjIgMTIuMzI1NSA5LjE3NDEgMTQuOTc3NSAxMi40NDQ4IDE0Ljk3NzVaIiBmaWxsPSIjOTA5MDkwIi8+Cjwvc3ZnPgo=",alt:"search",onClick:()=>{k((e=>!e)),b?(document.documentElement.style.setProperty("--nav-search-input-opacity","0"),document.documentElement.style.setProperty("--nav-search-input-width","0px"),document.documentElement.style.setProperty("--search-input-left-icon","calc(10px)"),document.documentElement.style.setProperty("--nav-search-input","none"),document.documentElement.style.setProperty("--search-display","none")):(document.documentElement.style.setProperty("--nav-search-input","block"),document.documentElement.style.setProperty("--nav-search-input-width","300px"),document.documentElement.style.setProperty("--nav-search-input-opacity","1"),document.documentElement.style.setProperty("--search-input-left-icon","calc(-33vw)"),document.documentElement.style.setProperty("--search-display","block"))}}),(0,i.jsx)("input",{className:"search_input",type:"text",placeholder:"Search here",style:{color:e.textColor},onChange:e=>U(e.target.value)}),j.length>0&&(0,i.jsx)("div",{id:"search_results",style:{color:e.textColor},children:j.map((e=>(0,i.jsx)("div",{children:e.title.rendered},e.id)))})]})]}),(0,i.jsxs)("div",{className:"nav-small-burger",children:[x&&(0,i.jsx)("a",{href:`${d}`,children:(0,i.jsx)("img",{src:x,alt:"Logo",className:"nav_logo",style:{maxWidth:"100px",height:"auto"}})}),(0,i.jsx)("button",{onClick:()=>{A(!_)},id:"burger","aria-label":"Toggle Navigation",children:(0,i.jsxs)("svg",{width:"38",height:"17",viewBox:"003825",fill:"none",xmlns:"fttp:www.w3.org/200/svg",children:[(0,i.jsx)("rect",{width:"38",height:"6",fill:"#909090"}),(0,i.jsx)("rect",{width:"38",height:"6",transform:"translate(0 11)",fill:"#909090"})]})})]}),(0,i.jsx)("div",{className:"nav_contain_content_small "+(_?"active":""),style:{fontFamily:e.fontFamily,color:e.textColor,backgroundColor:S},children:e.selectedPages.map((t=>(0,i.jsx)("span",{children:(0,i.jsx)("a",{className:"nav_a",href:t.url,style:{color:e.textColor},children:(0,i.jsx)("h2",{className:"nav_a_text",style:{color:e.textColor},children:t.customName||t.title})})},t.id)))})]})]})}})})()})();