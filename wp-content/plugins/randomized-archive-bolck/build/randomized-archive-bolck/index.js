(()=>{"use strict";const e=window.wp.blocks,a=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.data,l=window.wp.element,n=window.wp.components,t=window.ReactJSXRuntime,i=JSON.parse('{"UU":"create-block/randomized-archive-bolck"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{postCount:s,fontFamily:c,textColor:d,backgroundColor:m,backgroundOpacity:u}=e,[b,h]=(0,l.useState)([]),p=(0,r.useSelect)((e=>e("core").getEntityRecords("postType","post",{per_page:100,orderby:"date",order:"desc",before:(new Date).getFullYear()+"-01-01T00:00:00",_embed:!0})),[]);(0,l.useEffect)((()=>{if(p){const e=[...p].sort((()=>.5-Math.random()));h(e.slice(0,s))}}),[p,s]);const g=m?`rgba(${parseInt(m.slice(1,3),16)}, \n                 ${parseInt(m.slice(3,5),16)}, \n                 ${parseInt(m.slice(5,7),16)}, \n                 ${u})`:"transparent";return(0,o.useBlockProps)({style:{fontFamily:c,color:d,backgroundColor:g}}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.InspectorControls,{children:(0,t.jsxs)(n.PanelBody,{title:(0,a.__)("Settings","randomized-archive-block"),initialOpen:!0,children:[(0,t.jsx)(n.RangeControl,{label:(0,a.__)("Number of Posts","randomized-archive-block"),value:s,onChange:e=>i({postCount:e}),min:1,max:20}),(0,t.jsx)(n.SelectControl,{label:(0,a.__)("Font Family","randomized-archive-block"),value:c,options:[{label:"Inter, sans-serif",value:"Inter, sans-serif"},{label:"Arial, sans-serif",value:"Arial, sans-serif"},{label:"Georgia, serif",value:"Georgia, serif"},{label:"Courier New, monospace",value:"Courier New, monospace"}],onChange:e=>i({fontFamily:e})}),(0,t.jsx)(o.PanelColorSettings,{title:(0,a.__)("Colors","randomized-archive-block"),initialOpen:!1,colorSettings:[{value:d,onChange:e=>i({textColor:e}),label:(0,a.__)("Text Color","randomized-archive-block"),colors:[{name:(0,a.__)("Default Gray","randomized-archive-block"),color:"#555555"},{name:(0,a.__)("Black","randomized-archive-block"),color:"#000000"},{name:(0,a.__)("White","randomized-archive-block"),color:"#FFFFFF"}]},{value:m,onChange:e=>i({backgroundColor:e}),label:(0,a.__)("Background Color","randomized-archive-block")}]}),(0,t.jsx)(n.RangeControl,{label:(0,a.__)("Background Opacity","randomized-archive-block"),value:u,onChange:e=>i({backgroundOpacity:e}),min:0,max:1,step:.1})]})}),(0,t.jsx)("div",{className:"card-contain",children:b.map((e=>{const o=e._embedded?.["wp:featuredmedia"]?.[0]?.source_url,r=`By ${e._embedded?.author?.[0]?.name||"Unknown"} ${(()=>{const a=new Date(e.date);return`${a.getDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]} ${a.getFullYear()}`})()}`,l=e._embedded?.["wp:term"]?.[0]?.[0]?.name||(0,a.__)("Uncategorized","randomized-archive-block"),n=e.title.rendered.replace(/<p.*?>|<\/p>/g,"").split(/\s+/).slice(0,20).join(" ");return(0,t.jsx)("div",{className:"card",style:{backgroundColor:g,fontFamily:c},children:(0,t.jsx)("a",{href:e.link,children:(0,t.jsxs)("div",{children:[o?(0,t.jsx)("img",{src:o,alt:e.title.rendered,style:{width:"100%",height:1===s?"250px":"auto"}}):(0,t.jsx)("div",{className:"no-image-posts",children:"Â "}),(0,t.jsx)("div",{className:"achrive_post",style:{fontFamily:c},children:(0,t.jsx)("h4",{children:"ARCHIVE"})}),(0,t.jsx)("h4",{className:"card_artical_title",style:{fontFamily:c},children:l}),(0,t.jsx)("h3",{className:"card_article_text",style:{fontFamily:c,color:d},children:n}),(0,t.jsx)("h4",{className:"card_artical_title",style:{fontFamily:c},children:r})]})})},e.id)}))})]})}})})();